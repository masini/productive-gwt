<module>
	<inherits name="org.googlecode.gwt.base.Base" />
	<inherits name="com.google.gwt.core.Core" />
	<inherits name="com.google.gwt.user.UserAgent" />
	    
	<stylesheet src='css/template.css'/>    
	    
	<!-- Browser-sensitive code should use the 'user.agent' property -->
	<define-property name="template.pdauseragent" values="ie6pda,other" />
	<property-provider name="template.pdauseragent"><![CDATA[
      var ua = navigator.userAgent.toLowerCase();
      var makeVersion = function(result) {
          return (parseInt(result[1]) * 1000) + parseInt(result[2]);
      };
        if (ua.indexOf("msie") != -1) {
        var result = /msie ([0-9]+)\.([0-9]+)/.exec(ua);
            if (result && result.length == 3) {
                if (makeVersion(result) >= 6000) {
                    if(ua.indexOf("windows ce")!=-1){
                        return "ie6pda";
                    }
                }
            } 
        }
      return "other";
    ]]></property-provider>   
	
	
	 <!--  Deferred binding of TemplateManager -->

    <replace-with class="org.googlecode.gwt.template.client.TemplateManagerPDA">
        <when-type-is class="org.googlecode.gwt.template.client.TemplateManagerImpl" />
        <when-property-is name="template.pdauseragent" value="ie6pda" />
    </replace-with>
       
    <replace-with class="org.googlecode.gwt.template.client.TemplateManagerIE6">
        <when-type-is class="org.googlecode.gwt.template.client.TemplateManagerImpl" />
        <when-property-is name="template.pdauseragent" value="other" />
    </replace-with>

	<entry-point class="org.googlecode.gwt.template.client.Template" />
</module>